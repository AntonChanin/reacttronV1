<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="scripts/three.js"></script>
  <script src="https://cdn.rawgit.com/mrdoob/three.js/master/examples/js/loaders/GLTFLoader.js"></script>
  <script src="scripts/main.js"></script>
  <link rel="stylesheet" href="style/reset.css" />
  <link rel="stylesheet" href="style/style.css" />
  <title>Game</title>
</head>

<body>
  <script>
    game.init({
      'keyCapture': true,
      'mouseCapture': true,
      'mouseLock': false,
    });
    game.addCube({
      'position': game.v(0, 1, 0),
      'color': 'red'
    });
    game.getCamera().position.z = 5;
    game.on('keydown', (keys) => {
      if (keys.ArrowUp) {
        game.getCamera().translateZ(-game.calcSpeed());
      } else if (keys.ArrowDown) {
        game.getCamera().translateZ(game.calcSpeed() / 2);
      }

      if (keys.KeyE) {
        game.getCamera().translateX(game.calcSpeed());
      } else if (keys.KeyQ) {
        game.getCamera().translateX(-game.calcSpeed());
      }

      if (keys.ShiftLeft || keys.ShiftRight) {
        game.setRun(!game.getRun());
      } else if (!(keys.ShiftLeft || keys.ShiftRight)) {
        game.setRun(false);
      }

      if (keys.ArrowRight) {
        game.getCamera().rotateY(-game.calcSpeed());
      } else if (keys.ArrowLeft) {
        game.getCamera().rotateY(game.calcSpeed());
      }
    })
    game.on('keypress', (keys) => {
      console.log('down', keys);
    })
    game.on('keyup', (keys) => {
      console.log('up', keys);
    })
    game.on('mousedown', (mouse) => {
      console.log('down', JSON.stringify(mouse));
    })

  </script>

</body>

</html>